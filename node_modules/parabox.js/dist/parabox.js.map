{"version":3,"file":"parabox.js","sources":["../src/parabox-shift.js","../src/parabox.js"],"sourcesContent":["let paraboxShifts;\n\nfunction getZHeight(el) {\n  const height =\n    el.dataset.paraboxHeight ||\n    getComputedStyle(el).getPropertyValue('--parabox-height');\n  return height;\n}\n\nfunction paraboxShift(shiftX, shiftY, el) {\n  const height = getZHeight(el) || 5;\n  shiftX /= 100 / height;\n  shiftY /= 100 / height;\n  el.style.transform = `translate(${shiftX}px, ${shiftY}px)`;\n}\n\nexport function shiftChildren(parent, offsetX, offsetY) {\n  const childShifts = parent.querySelectorAll('.parabox-shift');\n\n  childShifts.forEach(shift => {\n    paraboxShift(offsetX, offsetY, shift);\n  });\n}\n\nexport function init() {\n  paraboxShifts = document.querySelectorAll('.parabox-shift');\n}\n\nexport default {\n  paraboxShifts,\n  shiftChildren,\n  init,\n};\n","import { init as initParaboxShift, shiftChildren } from './parabox-shift.js';\n\nlet paraboxes = [];\n\nfunction getTransformMultiplier(el) {\n  const multiplier =\n    el.dataset.paraboxMultiplier ||\n    getComputedStyle(el).getPropertyValue('--parabox-multiplier') ||\n    1;\n  return multiplier;\n}\n\nfunction tiltBox(e, el) {\n  const rect = el.getBoundingClientRect();\n\n  const horToBoxCenter = e.clientX - rect.left - rect.width / 2;\n  const verToBoxCenter = e.clientY - rect.top - rect.height / 2;\n\n  const transformX = horToBoxCenter * getTransformMultiplier(el);\n  const transformY = verToBoxCenter * getTransformMultiplier(el);\n\n  el.style.boxShadow = `${((transformX * -1) / rect.width) *\n    4}px ${((transformY * -1) / rect.height) * 4}px 4px rgba(0, 0, 0, 0.25)`;\n\n  el.style.transform = `rotateX(${(transformY / rect.height) *\n    -4}deg) rotateY(${((transformX * 1) / rect.width) * 4}deg)`;\n\n  shiftChildren(el, transformX, transformY);\n}\n\nfunction resetBox(el) {\n  el.style.transform = '';\n\n  shiftChildren(el, 0, 0);\n}\n\nexport function init() {\n  paraboxes = document.querySelectorAll('.parabox');\n\n  paraboxes.forEach(parabox => {\n    parabox.addEventListener('mousemove', e => {\n      tiltBox(e, parabox);\n    });\n    parabox.addEventListener('mouseleave', () => {\n      resetBox(parabox);\n    });\n  });\n\n  initParaboxShift();\n}\n\nexport default {\n  init,\n};\n"],"names":["paraboxShifts","getZHeight","el","height","dataset","paraboxHeight","getComputedStyle","getPropertyValue","paraboxShift","shiftX","shiftY","style","transform","shiftChildren","parent","offsetX","offsetY","childShifts","querySelectorAll","forEach","shift","init","document","paraboxes","getTransformMultiplier","multiplier","paraboxMultiplier","tiltBox","e","rect","getBoundingClientRect","horToBoxCenter","clientX","left","width","verToBoxCenter","clientY","top","transformX","transformY","boxShadow","resetBox","parabox","addEventListener","initParaboxShift"],"mappings":";;;;;;EAAA,IAAIA,sBAAJ;;EAEA,SAASC,UAAT,CAAoBC,EAApB,EAAwB;EACtB,MAAMC,SACJD,GAAGE,OAAH,CAAWC,aAAX,IACAC,iBAAiBJ,EAAjB,EAAqBK,gBAArB,CAAsC,kBAAtC,CAFF;EAGA,SAAOJ,MAAP;EACD;;EAED,SAASK,YAAT,CAAsBC,MAAtB,EAA8BC,MAA9B,EAAsCR,EAAtC,EAA0C;EACxC,MAAMC,SAASF,WAAWC,EAAX,KAAkB,CAAjC;EACAO,YAAU,MAAMN,MAAhB;EACAO,YAAU,MAAMP,MAAhB;EACAD,KAAGS,KAAH,CAASC,SAAT,kBAAkCH,MAAlC,YAA+CC,MAA/C;EACD;;AAED,EAAO,SAASG,aAAT,CAAuBC,MAAvB,EAA+BC,OAA/B,EAAwCC,OAAxC,EAAiD;EACtD,MAAMC,cAAcH,OAAOI,gBAAP,CAAwB,gBAAxB,CAApB;;EAEAD,cAAYE,OAAZ,CAAoB,iBAAS;EAC3BX,iBAAaO,OAAb,EAAsBC,OAAtB,EAA+BI,KAA/B;EACD,GAFD;EAGD;;AAED,EAAO,SAASC,IAAT,GAAgB;EACrBrB,kBAAgBsB,SAASJ,gBAAT,CAA0B,gBAA1B,CAAhB;EACD;;ECxBD,IAAIK,YAAY,EAAhB;;EAEA,SAASC,sBAAT,CAAgCtB,EAAhC,EAAoC;EAClC,MAAMuB,aACJvB,GAAGE,OAAH,CAAWsB,iBAAX,IACApB,iBAAiBJ,EAAjB,EAAqBK,gBAArB,CAAsC,sBAAtC,CADA,IAEA,CAHF;EAIA,SAAOkB,UAAP;EACD;;EAED,SAASE,OAAT,CAAiBC,CAAjB,EAAoB1B,EAApB,EAAwB;EACtB,MAAM2B,OAAO3B,GAAG4B,qBAAH,EAAb;;EAEA,MAAMC,iBAAiBH,EAAEI,OAAF,GAAYH,KAAKI,IAAjB,GAAwBJ,KAAKK,KAAL,GAAa,CAA5D;EACA,MAAMC,iBAAiBP,EAAEQ,OAAF,GAAYP,KAAKQ,GAAjB,GAAuBR,KAAK1B,MAAL,GAAc,CAA5D;;EAEA,MAAMmC,aAAaP,iBAAiBP,uBAAuBtB,EAAvB,CAApC;EACA,MAAMqC,aAAaJ,iBAAiBX,uBAAuBtB,EAAvB,CAApC;;EAEAA,KAAGS,KAAH,CAAS6B,SAAT,GAA0BF,aAAa,CAAC,CAAf,GAAoBT,KAAKK,KAA1B,GACtB,CADF,WACWK,aAAa,CAAC,CAAf,GAAoBV,KAAK1B,MAA1B,GAAoC,CAD7C;;EAGAD,KAAGS,KAAH,CAASC,SAAT,gBAAiC2B,aAAaV,KAAK1B,MAAnB,GAC9B,CAAC,CADH,qBACsBmC,aAAa,CAAd,GAAmBT,KAAKK,KAAzB,GAAkC,CADtD;;EAGArB,gBAAcX,EAAd,EAAkBoC,UAAlB,EAA8BC,UAA9B;EACD;;EAED,SAASE,QAAT,CAAkBvC,EAAlB,EAAsB;EACpBA,KAAGS,KAAH,CAASC,SAAT,GAAqB,EAArB;;EAEAC,gBAAcX,EAAd,EAAkB,CAAlB,EAAqB,CAArB;EACD;;AAED,EAAO,SAASmB,MAAT,GAAgB;EACrBE,cAAYD,SAASJ,gBAAT,CAA0B,UAA1B,CAAZ;;EAEAK,YAAUJ,OAAV,CAAkB,mBAAW;EAC3BuB,YAAQC,gBAAR,CAAyB,WAAzB,EAAsC,aAAK;EACzChB,cAAQC,CAAR,EAAWc,OAAX;EACD,KAFD;EAGAA,YAAQC,gBAAR,CAAyB,YAAzB,EAAuC,YAAM;EAC3CF,eAASC,OAAT;EACD,KAFD;EAGD,GAPD;;EASAE;EACD;;AAED,gBAAe;EACbvB;EADa,CAAf;;;;;;;;;;;;;"}