{"version":3,"file":"parabox.es.js","sources":["../src/parabox-shift.js","../src/parabox.js"],"sourcesContent":["let paraboxShifts;\n\nfunction getZHeight(el) {\n  const height =\n    el.dataset.paraboxHeight ||\n    getComputedStyle(el).getPropertyValue('--parabox-height');\n  return height;\n}\n\nfunction paraboxShift(shiftX, shiftY, el) {\n  const height = getZHeight(el) || 5;\n  shiftX /= 100 / height;\n  shiftY /= 100 / height;\n  el.style.transform = `translate(${shiftX}px, ${shiftY}px)`;\n}\n\nexport function shiftChildren(parent, offsetX, offsetY) {\n  const childShifts = parent.querySelectorAll('.parabox-shift');\n\n  childShifts.forEach(shift => {\n    paraboxShift(offsetX, offsetY, shift);\n  });\n}\n\nexport function init() {\n  paraboxShifts = document.querySelectorAll('.parabox-shift');\n}\n\nexport default {\n  paraboxShifts,\n  shiftChildren,\n  init,\n};\n","import { init as initParaboxShift, shiftChildren } from './parabox-shift.js';\n\nlet paraboxes = [];\n\nfunction getTransformMultiplier(el) {\n  const multiplier =\n    el.dataset.paraboxMultiplier ||\n    getComputedStyle(el).getPropertyValue('--parabox-multiplier') ||\n    1;\n  return multiplier;\n}\n\nfunction tiltBox(e, el) {\n  const rect = el.getBoundingClientRect();\n\n  const horToBoxCenter = e.clientX - rect.left - rect.width / 2;\n  const verToBoxCenter = e.clientY - rect.top - rect.height / 2;\n\n  const transformX = horToBoxCenter * getTransformMultiplier(el);\n  const transformY = verToBoxCenter * getTransformMultiplier(el);\n\n  el.style.boxShadow = `${((transformX * -1) / rect.width) *\n    4}px ${((transformY * -1) / rect.height) * 4}px 4px rgba(0, 0, 0, 0.25)`;\n\n  el.style.transform = `rotateX(${(transformY / rect.height) *\n    -4}deg) rotateY(${((transformX * 1) / rect.width) * 4}deg)`;\n\n  shiftChildren(el, transformX, transformY);\n}\n\nfunction resetBox(el) {\n  el.style.transform = '';\n\n  shiftChildren(el, 0, 0);\n}\n\nexport function init() {\n  paraboxes = document.querySelectorAll('.parabox');\n\n  paraboxes.forEach(parabox => {\n    parabox.addEventListener('mousemove', e => {\n      tiltBox(e, parabox);\n    });\n    parabox.addEventListener('mouseleave', () => {\n      resetBox(parabox);\n    });\n  });\n\n  initParaboxShift();\n}\n\nexport default {\n  init,\n};\n"],"names":["init","initParaboxShift"],"mappings":"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"}